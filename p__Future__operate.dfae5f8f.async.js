"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[559],{67730:function(w,S,e){var m=e(18201),l=e(66342),p=e(95249),D=e(75271),b=e(98079),E=e(21092),g=e(52676),n=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],j=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],y=function(a,M){var u=a.fieldProps,T=a.children,L=a.params,r=a.proFieldProps,A=a.mode,C=a.valueEnum,f=a.request,x=a.showSearch,R=a.options,F=(0,l.Z)(a,n),B=(0,D.useContext)(b.Z);return(0,g.jsx)(E.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,p.h)(C),request:f,params:L,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({options:R,mode:A,showSearch:x,getPopupContainer:B.getPopupContainer},u),ref:M,proFieldProps:r},F),{},{children:T}))},o=D.forwardRef(function(_,a){var M=_.fieldProps,u=_.children,T=_.params,L=_.proFieldProps,r=_.mode,A=_.valueEnum,C=_.request,f=_.options,x=(0,l.Z)(_,j),R=(0,m.Z)({options:f,mode:r||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},M),F=(0,D.useContext)(b.Z);return(0,g.jsx)(E.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,p.h)(A),request:C,params:T,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({getPopupContainer:F.getPopupContainer},R),ref:a,proFieldProps:L},x),{},{children:u}))}),h=D.forwardRef(y),s=o,d=h;d.SearchSelect=s,d.displayName="ProFormComponent",S.Z=d},82122:function(w,S,e){var m=e(90228),l=e.n(m),p=e(87999),D=e.n(p),b=e(98027),E=e(5769),g=e(67730),n=e(71970),j=e(75271),y=e(34464),o=e(76256),h=e(43091),s=e(52676),d=function(a){var M=a.done,u=a.visible,T=a.onDone,L=a.futureId,r=a.futureOperate,A=a.onSubmit,C=(0,y.useIntl)();return u?(0,s.jsxs)(b.Y,{open:u,title:M?null:"".concat(r!=null&&r.id?C.formatMessage({id:"pages.edit"}):C.formatMessage({id:"pages.new"})),className:o.Z.standardListForm,width:640,onFinish:function(){var f=D()(l()().mark(function x(R){return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:A(R);case 1:case"end":return B.stop()}},x)}));return function(x){return f.apply(this,arguments)}}(),initialValues:r,submitter:{render:function(x,R){return M?null:R}},modalProps:{onCancel:function(){return T()},destroyOnClose:!0},children:[(0,s.jsx)(h.Z,{}),(0,s.jsx)(E.Z,{name:"id",hidden:!0,initialValue:r==null?void 0:r.id}),(0,s.jsx)(E.Z,{name:"futureId",hidden:!0,initialValue:L}),(0,s.jsx)(E.Z,{name:"iDevice",hidden:!0,initialValue:"WEB"}),(0,s.jsx)(E.Z,{name:"state",hidden:!0,initialValue:r==null?void 0:r.state}),(0,s.jsx)(g.Z,{name:"side",label:"\u9009\u62E9\u65B9\u5411",width:"md",rules:[{required:!0,message:"\u9009\u62E9\u65B9\u5411"}],options:[{label:"\u4E70\u5165",value:"OPEN"},{label:"\u5356\u51FA",value:"CLOSE"}]}),(0,s.jsx)(n.Z,{name:"tradePercent",label:"\u4EA4\u6613\u6BD4\u4F8B",tooltip:"\u6839\u636E\u5408\u7EA6\u8D26\u6237USDT\u4F59\u989D\u7684\u767E\u5206\u6BD4",width:"sm",min:0,max:100,fieldProps:{addonAfter:"%"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA4\u6613\u6BD4\u4F8B"}]}),(0,s.jsx)(g.Z,{name:"operateType",tooltip:"\u5E02\u4EF7\u5355\u5C06\u7ACB\u5373\u6267\u884C",label:"\u9009\u62E9\u7C7B\u578B",width:"md",rules:[{required:!0,message:"\u9009\u62E9\u7C7B\u578B"}],options:[{label:"\u9650\u4EF7\u5355",value:"ENTRUST"},{label:"\u5E02\u4EF7\u5355",value:"MARKET"}]}),(0,s.jsx)(n.Z,{name:"entrustPrice",label:"\u59D4\u6258\u4EF7\u683C",tooltip:"\u9009\u62E9\u9650\u4EF7\u5355\u65F6\u5FC5\u586B",width:"sm",dependencies:["operateType"],fieldProps:{addonAfter:"USDT"}})]}):null};S.Z=d},5368:function(w,S,e){var m=e(98027),l=e(233),p=e(34464),D=e(75271),b=e(75247),E=e(76256),g=e(86074),n=e(52676),j=function(o){var h=o.done,s=o.visible,d=o.current,_=o.onDone;if(!s)return null;var a=[{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.create.time"}),dataIndex:"createTime",hideInSearch:!0,valueType:"dateTime",width:"180px"},{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.future.trade.orderId"}),dataIndex:"orderId",hideInForm:!0,hideInTable:!0,hideInSearch:!0,valueType:"text"},{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.future.trade.clientOrderId"}),dataIndex:"clientOrderId",hideInForm:!0,hideInTable:!0,hideInSearch:!0,valueType:"text"},{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.future.trade.price"}),dataIndex:"tradePrice",valueType:"digit",hideInSearch:!0,hideInForm:!0,width:"md"},{title:"Token",dataIndex:"tokenQty",valueType:"text",hideInSearch:!0,hideInForm:!0,width:"md"},{title:"USDT",dataIndex:"stableTokenQty",valueType:"text",hideInSearch:!0,hideInForm:!0,width:"md"},{title:"\u76C8\u4E8F",dataIndex:"realizedPnl",hideInSearch:!0,valueType:"digit",width:"120px"},{title:"\u5206\u6210",dataIndex:"fee",hideInSearch:!0,valueType:"digit",width:"120px"},{title:"\u624B\u7EED\u8D39",valueType:"digit",hideInSearch:!0,hideInForm:!0,width:"md",render:function(L,r){return r.commission}},{title:"\u6240\u5C5E\u7528\u6237",dataIndex:["account","label"],valueType:"text",hideInSearch:!0,hideInForm:!0,width:"md"},{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.future.trade.state"}),dataIndex:"status",valueType:"text",hideInSearch:!0,width:"120px",valueEnum:{ERROR:{text:"\u9519\u8BEF",status:"error"},FILLED:{text:"\u5B8C\u6210",status:"Success"},NEW:{text:"\u521B\u5EFA",status:"Processing"}}},{title:(0,n.jsx)(p.FormattedMessage,{id:"pages.future.trade.systemMsg"}),dataIndex:"systemMsg",hideInForm:!0,hideInSearch:!0,valueType:"textarea"}],M={futureOperateId:d==null?void 0:d.id},u={showSizeChanger:!0,showQuickJumper:!0};return(0,n.jsx)(l._z,{children:(0,n.jsx)(m.Y,{open:s,title:"\u4EA4\u6613\u8BB0\u5F55",className:E.Z.standardListForm,width:"80%",submitter:!1,modalProps:{onCancel:function(){_()},destroyOnClose:!0},children:(0,n.jsx)(g.ZP,{rowKey:"id",columns:a,pagination:u,params:M,request:b.Wq,search:!1})})})};S.Z=j},85355:function(w,S,e){e.r(S);var m=e(90228),l=e.n(m),p=e(26068),D=e.n(p),b=e(87999),E=e.n(b),g=e(48305),n=e.n(g),j=e(233),y=e(86074),o=e(34464),h=e(477),s=e(51027),d=e(75271),_=e(82122),a=e(75247),M=e(5368),u=e(52676),T=function(){var r=(0,d.useRef)(),A=(0,d.useState)(!1),C=n()(A,2),f=C[0],x=C[1],R=(0,d.useState)(!1),F=n()(R,2),B=F[0],V=F[1],Y=(0,d.useState)(!1),$=n()(Y,2),X=$[0],z=$[1],k=(0,d.useState)(),G=n()(k,2),U=G[0],N=G[1],O=(0,o.useIntl)(),q=(0,o.useRequest)(function(){return(0,a.dX)({})}),Q=q.data,H={};Q&&Q.map(function(c){H[c.id]={text:c.label,value:c.value}});var ee=function(){var c=E()(l()().mark(function v(i){var I,K,P,W,Z;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(I=h.ZP.loading(O.formatMessage({id:"pages.tip.loading"})),I(),t.prev=2,i.id==null){t.next=13;break}return t.next=6,(0,a.GZ)(D()({},i));case 6:if(K=t.sent,P=K.success,!P){t.next=11;break}return h.ZP.success(O.formatMessage({id:"pages.tip.success"})),t.abrupt("return",!0);case 11:t.next=20;break;case 13:return t.next=15,(0,a.xx)(D()({},i));case 15:if(W=t.sent,Z=W.success,!Z){t.next=20;break}return h.ZP.success(O.formatMessage({id:"pages.tip.success"})),t.abrupt("return",!0);case 20:return t.abrupt("return",!1);case 23:return t.prev=23,t.t0=t.catch(2),h.ZP.error(O.formatMessage({id:"pages.tip.error"})),t.abrupt("return",!1);case 27:case"end":return t.stop()}},v,null,[[2,23]])}));return function(i){return c.apply(this,arguments)}}(),te=function(v){s.Z.confirm({title:O.formatMessage({id:"pages.tip.title"}),content:O.formatMessage({id:"pages.tip.content"}),okText:O.formatMessage({id:"pages.tip.ok"}),cancelText:O.formatMessage({id:"pages.tip.cancel"}),onOk:function(){var i=E()(l()().mark(function K(){var P,W,Z;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v){t.next=2;break}return t.abrupt("return",!0);case 2:return t.prev=2,P=h.ZP.loading(O.formatMessage({id:"pages.tip.loading"})),t.next=6,(0,a.e8)({id:v.id});case 6:if(W=t.sent,Z=W.success,!Z){t.next=13;break}return P(),h.ZP.success(O.formatMessage({id:"pages.tip.success"})),r.current&&r.current.reload(),t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 16:return t.prev=16,t.t0=t.catch(2),t.abrupt("return",!1);case 19:case"end":return t.stop()}},K,null,[[2,16]])}));function I(){return i.apply(this,arguments)}return I}()})},J=function(){x(!1),V(!1),z(!1),N(void 0)},ae={showSizeChanger:!0,showQuickJumper:!0},re=[{title:"\u96C6\u7FA4\u4EA4\u6613\u5BF9",dataIndex:"futureId",valueType:"select",width:"xs",hideInForm:!0,hideInTable:!0,hideInDescriptions:!0,valueEnum:H,fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u96C6\u7FA4\u4EA4\u6613\u5BF9"}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0},{title:"\u8BBE\u5907",dataIndex:"iDevice",valueType:"text",width:"xs",hideInSearch:!0},{title:"\u4E70\u5356",dataIndex:"side",valueType:"text",width:"xs",hideInSearch:!0,valueEnum:{OPEN:{text:"\u4E70\u5165"},CLOSE:{text:"\u5356\u51FA"}}},{title:"\u7C7B\u578B",dataIndex:"operateType",valueType:"select",valueEnum:{ENTRUST:{text:"\u9650\u4EF7\u5355"},MARKET:{text:"\u5E02\u4EF7\u5355"}}},{title:"\u59D4\u6258\u4EF7",dataIndex:"entrustPrice",valueType:"digit",hideInSearch:!0},{title:"\u4EA4\u6613\u6BD4\u4F8B(%)",tooltip:"\u4E70\u5165\u4E3AUSDT\u4F59\u989D\u767E\u5206\u6BD4\uFF0C\u5356\u51FA\u4E3A\u6301\u4ED3\u767E\u5206\u6BD4",dataIndex:"tradePercent",valueType:"digit",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:{MONITOR:{text:"\u76D1\u542C\u4E2D"},PROGRESS:{text:"\u6267\u884C\u4E2D"},STOP:{text:"\u505C\u6B62"},CANCELLED:{text:"\u5DF2\u53D6\u6D88"},FINISHED:{text:"\u5B8C\u6210"}}},{title:"\u8FDB\u5EA6\u60C5\u51B5",valueType:"text",fieldProps:{size:10},hideInSearch:!0,render:function(v,i){return"\u5B8C\u6210("+i.filledCount+"),\u9519\u8BEF("+i.errorCount+")"}},{title:(0,u.jsx)(o.FormattedMessage,{id:"pages.option"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(v,i){return[(0,u.jsx)("a",{onClick:function(){V(!0),N(i)},children:(0,u.jsx)(o.FormattedMessage,{id:"pages.edit"})},"edit"),(0,u.jsx)("a",{onClick:function(){N(i),z(!0)},children:"\u8FDB\u5EA6"},"edit"),(0,u.jsx)("a",{onClick:function(){te(i)},children:(0,u.jsx)(o.FormattedMessage,{id:"pages.delete"})},"delete")]}}];return(0,u.jsxs)(j._z,{children:[(0,u.jsx)(y.ZP,{actionRef:r,pagination:ae,rowKey:function(v){return v.id},request:a.Vw,columns:re}),(0,u.jsx)(_.Z,{done:f,visible:B,futureId:U==null?void 0:U.futureId,futureOperate:U||{},onDone:J,onSubmit:function(){var c=E()(l()().mark(function v(i){var I;return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,ee(i);case 2:I=P.sent,I&&(V(!1),N(void 0),r.current&&r.current.reload());case 4:case"end":return P.stop()}},v)}));return function(v){return c.apply(this,arguments)}}()}),(0,u.jsx)(M.Z,{done:f,current:U,visible:X,onDone:J})]})};S.default=T}}]);
